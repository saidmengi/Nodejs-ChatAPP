{"version":3,"sources":["../src/index.js"],"names":["socket","require","PORT","app","server","http","createServer","use","exposedHeaders","bodyParser","json","limit","req","res","version","wss","on","ws","console","log","listen","process","env","address","port"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAIA,SAASC,QAAQ,WAAR,CAAb;;AAEA,IAAMC,OAAO,IAAb;AACA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,MAAJ,GAAaC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;;AAGAA,IAAII,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAGAJ,IAAII,GAAJ,CAAQ,oBAAK;AACTC,oBAAgB;AADP,CAAL,CAAR;;AAIAL,IAAII,GAAJ,CAAQE,qBAAWC,IAAX,CAAgB;AACpBC,WAAO;AADa,CAAhB,CAAR;AAGAR,IAAII,GAAJ,CAAQ,UAACK,GAAD,EAAMC,GAAN,EAAY;AAChBA,QAAIH,IAAJ,CAAS;AACLI,iBAASA;AADJ,KAAT;AAGH,CAJD;AAKAX,IAAIY,GAAJ,GAAUf,OAAO;AACbI,YAAQD,IAAIC;AADC,CAAP,CAAV;;AAIAD,IAAIY,GAAJ,CAAQC,EAAR,CAAW,YAAX,EAAyB,UAACC,EAAD,EAAM;AAC3BC,YAAQC,GAAR,CAAY,sBAAZ;AACH,CAFD;;AAKAhB,IAAIC,MAAJ,CAAWgB,MAAX,CAAkBC,QAAQC,GAAR,CAAYpB,IAAZ,IAAoBA,IAAtC,EAA4C,YAAM;AAC1CgB,YAAQC,GAAR,6BAAsChB,IAAIC,MAAJ,CAAWmB,OAAX,GAAqBC,IAA3D;AACP,CAFD;;kBAIerB,G","file":"index.js","sourcesContent":["import http from 'http';\r\nimport express from 'express';\r\nimport cors from 'cors';\r\nimport morgan from 'morgan';\r\nimport bodyParser from 'body-parser';\r\nimport {version} from '../package.json'\r\n\r\nvar socket = require('socket.io');\r\n\r\nconst PORT = 3000;\r\nconst app = express();\r\napp.server = http.createServer(app);\r\n\r\n\r\napp.use(morgan('dev'));\r\n\r\n\r\napp.use(cors({\r\n    exposedHeaders: \"*\"\r\n}));\r\n\r\napp.use(bodyParser.json({\r\n    limit: '50mb'\r\n}));\r\napp.use((req, res)=>{\r\n    res.json({\r\n        version: version\r\n    });\r\n});\r\napp.wss = socket({\r\n    server: app.server\r\n});\r\n\r\napp.wss.on('connection', (ws)=>{\r\n    console.log(\"new client connected\");\r\n});\r\n\r\n\r\napp.server.listen(process.env.PORT || PORT, () => {\r\n        console.log(`App is running on port ${app.server.address().port}`);\r\n});\r\n\r\nexport default app;"]}